<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../layui/css/layui.css" media="all">
    <link rel="stylesheet" href="../layui/css/admin.css" media="all">
    <link rel="stylesheet" href="treeExtend.css" media="all">
</head>
<body>
    
    <ul id="demo"></ul>

    <script src="../layui/layui.js"></script>
    <script>
        layui.config({
            base: "../layui/lay/mymodules/"
        }).use(['table','jquery','mytree','layer'], function(){
            var $ = layui.jquery;
            var table = layui.table;
            var tree = layui.mytree;
            var layer = layui.layer;
            var data=[
                { //节点
                    name: '父节点1'
                    ,children: [
                        {
                            name: '子节点11'
                        },
                        {
                            name: '子节点12'
                        }
                    ]
                },
                {
                    name: '父节点2'
                    ,children: [
                        {
                            name: '子节点21'
                            ,children: [
                                {
                                    name: '子节点211'
                                }
                            ]
                        }
                    ]
                }
            ];
            var oldDom;
            data[1].IsCanAdd = true;
            data[1].IsCanDelete = true;
            data[1].IsCanEdit = true;
            tree({
                elem: '#demo' //传入元素选择器
                ,nodes: data
                ,click: function(node){
                    // console.log(node) //node即为当前点击的节点数据
                } 
                ,contextmenu: function(key,data,reload){
                    switch (key) {
                        case "add":
                            reload();
                            break;
                        case "change":
                            reload();
                            break;
                        case "remove":
                            reload();
                            break;
                        default:
                            break;
                    }
                }
            });
            
            
        });
    </script>

</body>
</html>